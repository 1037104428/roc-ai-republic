# Quota Proxy 管理界面

## 功能概述

Quota Proxy 提供了一个简单的 Web 管理界面，方便管理员进行以下操作：

1. **查看系统状态** - 检查数据库连接、运行模式等
2. **管理试用密钥** - 创建、查看、删除试用密钥
3. **查看使用情况** - 监控各密钥的 API 调用情况

## 访问方式

### 前提条件
- 必须设置 `ADMIN_TOKEN` 环境变量
- 服务器运行在 SQLite 模式下

### 访问地址
```
http://localhost:8787/admin
```

### 认证方式
访问管理界面时需要在浏览器中提供管理员令牌。界面会提示输入令牌。

## 功能说明

### 1. 系统状态
- 显示当前运行模式（SQLite/文件）
- 显示数据库路径
- 显示每日请求限制
- 显示管理界面状态

### 2. 密钥管理
- **创建新密钥**：输入标签（可选）和请求限制（可选），生成新的试用密钥
- **查看所有密钥**：列出所有已创建的密钥及其信息
- **删除密钥**：吊销不再需要的密钥

### 3. 使用情况
- 查看各密钥的当日使用量
- 查看总使用量统计
- 监控接近限制的密钥

## 安全注意事项

1. **不要将管理界面暴露到公网** - 建议只通过本地访问或 VPN 访问
2. **使用强密码作为 ADMIN_TOKEN**
3. **定期轮换 ADMIN_TOKEN**
4. **记录所有管理操作** - 界面操作会记录到服务器日志中

## 故障排除

### 管理界面无法访问
1. 检查 `ADMIN_TOKEN` 是否已设置
2. 检查服务器是否运行在 SQLite 模式下
3. 检查 `admin.html` 文件是否存在
4. 查看服务器日志中的错误信息

### 操作失败
1. 检查数据库连接是否正常
2. 检查文件权限
3. 查看浏览器控制台错误信息

## 开发说明

管理界面是一个纯前端 HTML/JavaScript 应用，通过 REST API 与后端通信。所有敏感操作都需要提供 `ADMIN_TOKEN`。

界面文件：`admin.html`
后端支持：`server-sqlite.js` 中的 `/admin` 路由