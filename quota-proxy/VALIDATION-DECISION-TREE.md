# éªŒè¯è„šæœ¬é€‰æ‹©å†³ç­–æ ‘

æœ¬æ–‡æ¡£æä¾›éªŒè¯è„šæœ¬é€‰æ‹©çš„å†³ç­–æ ‘å’Œå¸¸è§åœºæ™¯å¿«é€Ÿå‚è€ƒï¼Œå¸®åŠ©ç”¨æˆ·æ ¹æ®å…·ä½“éœ€æ±‚å¿«é€Ÿé€‰æ‹©æœ€åˆé€‚çš„éªŒè¯å·¥å…·ã€‚

## ğŸŒ³ å†³ç­–æ ‘ï¼šå¦‚ä½•é€‰æ‹©éªŒè¯è„šæœ¬ï¼Ÿ

```
å¼€å§‹éªŒè¯
    â†“
æ‚¨éœ€è¦éªŒè¯ä»€ä¹ˆï¼Ÿ
    â”œâ”€â”€ æ•°æ®åº“ç›¸å…³
    â”‚   â”œâ”€â”€ é¦–æ¬¡éƒ¨ç½² â†’ `init-db.cjs` + `verify-db.js`
    â”‚   â”œâ”€â”€ æ—¥å¸¸å¥åº·æ£€æŸ¥ â†’ `quick-verify-db.sh`
    â”‚   â”œâ”€â”€ æ·±åº¦ç»“æ„æ£€æŸ¥ â†’ `verify-db.js`
    â”‚   â””â”€â”€ æ€§èƒ½ç›‘æ§ â†’ `check-database-health.sh`
    â”‚
    â”œâ”€â”€ Admin APIç›¸å…³
    â”‚   â”œâ”€â”€ å¿«é€Ÿä¸Šæ‰‹ â†’ `quick-start-verify.sh`
    â”‚   â”œâ”€â”€ å®Œæ•´åŠŸèƒ½æµ‹è¯• â†’ `verify-admin-api.sh`
    â”‚   â”œâ”€â”€ æ‰¹é‡å¯†é’¥æµ‹è¯• â†’ `test-batch-keys.sh`
    â”‚   â””â”€â”€ ç‰¹å®šç«¯ç‚¹æµ‹è¯• â†’ `verify-admin-keys-endpoint.sh`
    â”‚
    â”œâ”€â”€ éƒ¨ç½²çŠ¶æ€
    â”‚   â”œâ”€â”€ å¿«é€ŸçŠ¶æ€æ£€æŸ¥ â†’ `check-deployment-status.sh`
    â”‚   â”œâ”€â”€ å®Œæ•´éƒ¨ç½²éªŒè¯ â†’ `verify-full-deployment.sh`
    â”‚   â”œâ”€â”€ SQLiteæŒä¹…åŒ– â†’ `verify-sqlite-persistence.sh`
    â”‚   â””â”€â”€ ç”Ÿäº§ç¯å¢ƒéªŒè¯ â†’ `deployment-verification.sh`
    â”‚
    â”œâ”€â”€ ç¯å¢ƒé…ç½®
    â”‚   â”œâ”€â”€ åŸºç¡€é…ç½®æ£€æŸ¥ â†’ `verify-env-config.sh`
    â”‚   â”œâ”€â”€ SQLiteé…ç½® â†’ `verify-sqlite-config.sh`
    â”‚   â””â”€â”€ é«˜çº§éªŒè¯ â†’ `verify-env-vars.sh`
    â”‚
    â””â”€â”€ æ€§èƒ½æµ‹è¯•
        â”œâ”€â”€ APIæ€§èƒ½ â†’ `check-admin-performance.sh`
        â””â”€â”€ åˆ†é¡µæ€§èƒ½ â†’ `verify-admin-usage-pagination.sh`
```

## ğŸ¯ å¸¸è§åœºæ™¯å¿«é€Ÿå‚è€ƒ

### åœºæ™¯1ï¼šæ–°æœåŠ¡å™¨é¦–æ¬¡éƒ¨ç½²
```bash
# 1. ç¯å¢ƒé…ç½®éªŒè¯
./verify-env-config.sh

# 2. æ•°æ®åº“åˆå§‹åŒ–
node init-db.cjs

# 3. æ•°æ®åº“ç»“æ„éªŒè¯
./verify-db.js

# 4. æœåŠ¡å¯åŠ¨éªŒè¯
./check-deployment-status.sh

# 5. Admin APIåŠŸèƒ½éªŒè¯
./quick-start-verify.sh
```

### åœºæ™¯2ï¼šæ—¥å¸¸è¿ç»´æ£€æŸ¥
```bash
# 1. å¿«é€Ÿå¥åº·æ£€æŸ¥ï¼ˆ30ç§’å†…å®Œæˆï¼‰
./quick-verify-db.sh
./check-deployment-status.sh

# 2. å¦‚æœéœ€è¦è¯¦ç»†æŠ¥å‘Š
./run-all-verifications.sh --quick
```

### åœºæ™¯3ï¼šæ•…éšœæ’æŸ¥
```bash
# 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
./check-deployment-status.sh --verbose

# 2. æ£€æŸ¥æ•°æ®åº“è¿æ¥
./quick-verify-db.sh --debug

# 3. æ£€æŸ¥Admin API
./verify-admin-api.sh --test-all

# 4. æ£€æŸ¥ç¯å¢ƒé…ç½®
./verify-env-config.sh --strict
```

### åœºæ™¯4ï¼šç‰ˆæœ¬å‡çº§éªŒè¯
```bash
# 1. å¤‡ä»½å‰éªŒè¯
./verify-full-deployment.sh --pre-upgrade

# 2. å‡çº§åéªŒè¯
./verify-full-deployment.sh --post-upgrade

# 3. æ•°æ®å®Œæ•´æ€§éªŒè¯
./verify-db.js --integrity-check

# 4. APIå…¼å®¹æ€§éªŒè¯
./verify-admin-api.sh --compatibility
```

### åœºæ™¯5ï¼šCI/CDæµæ°´çº¿
```bash
# 1. å¿«é€ŸéªŒè¯å¥—ä»¶ï¼ˆ<2åˆ†é’Ÿï¼‰
./quick-verify-db.sh
./check-deployment-status.sh
./quick-start-verify.sh

# 2. å®Œæ•´éªŒè¯å¥—ä»¶ï¼ˆ<10åˆ†é’Ÿï¼‰
./run-all-verifications.sh
```

## âš¡ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

### 5ç§’å†…å®Œæˆçš„æ£€æŸ¥
```bash
# æ•°æ®åº“æ–‡ä»¶å­˜åœ¨æ€§
test -f quota.db && echo "âœ… æ•°æ®åº“æ–‡ä»¶å­˜åœ¨"

# æœåŠ¡å¥åº·æ£€æŸ¥
curl -fsS http://localhost:8787/healthz && echo "âœ… æœåŠ¡å¥åº·"

# ç¯å¢ƒå˜é‡åŸºç¡€æ£€æŸ¥
[ -n "$ADMIN_TOKEN" ] && echo "âœ… ADMIN_TOKENå·²è®¾ç½®"
```

### 1åˆ†é’Ÿå†…å®Œæˆçš„æ£€æŸ¥
```bash
# å¿«é€Ÿç»¼åˆæ£€æŸ¥
./quick-verify-db.sh
./check-deployment-status.sh --quick
```

### 5åˆ†é’Ÿå†…å®Œæˆçš„æ£€æŸ¥
```bash
# å®Œæ•´åŠŸèƒ½éªŒè¯
./quick-start-verify.sh
./verify-sqlite-persistence.sh
```

## ğŸ”§ è„šæœ¬å‚æ•°å¿«é€Ÿå‚è€ƒ

### é€šç”¨å‚æ•°
- `--dry-run`ï¼šå¹²è¿è¡Œæ¨¡å¼ï¼Œåªæ˜¾ç¤ºå°†è¦æ‰§è¡Œçš„æ“ä½œ
- `--verbose`ï¼šè¯¦ç»†è¾“å‡ºæ¨¡å¼
- `--debug`ï¼šè°ƒè¯•æ¨¡å¼ï¼Œæ˜¾ç¤ºæ›´å¤šä¿¡æ¯
- `--quiet`ï¼šå®‰é™æ¨¡å¼ï¼Œåªæ˜¾ç¤ºå…³é”®ä¿¡æ¯

### ç‰¹å®šè„šæœ¬å‚æ•°
- `verify-admin-api.sh --test-all`ï¼šæµ‹è¯•æ‰€æœ‰APIç«¯ç‚¹
- `check-deployment-status.sh --quick`ï¼šå¿«é€Ÿæ£€æŸ¥æ¨¡å¼
- `verify-db.js --integrity-check`ï¼šæ•°æ®å®Œæ•´æ€§æ£€æŸ¥

## ğŸ“ˆ éªŒè¯ç»“æœç­‰çº§

### Level 1: åŸºç¡€å¥åº·æ£€æŸ¥ï¼ˆç»¿è‰²ï¼‰
- æœåŠ¡å“åº”æ­£å¸¸
- æ•°æ®åº“æ–‡ä»¶å­˜åœ¨
- åŸºç¡€ç¯å¢ƒå˜é‡å·²è®¾ç½®

### Level 2: åŠŸèƒ½éªŒè¯ï¼ˆè“è‰²ï¼‰
- æ‰€æœ‰APIç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- æ•°æ®åº“CRUDæ“ä½œæ­£å¸¸
- ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ‰§è¡Œ

### Level 3: æ€§èƒ½éªŒè¯ï¼ˆé»„è‰²ï¼‰
- APIå“åº”æ—¶é—´åœ¨é¢„æœŸèŒƒå›´å†…
- æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½è¾¾æ ‡
- å¹¶å‘å¤„ç†èƒ½åŠ›æ­£å¸¸

### Level 4: å®Œæ•´éªŒè¯ï¼ˆç´«è‰²ï¼‰
- æ‰€æœ‰éªŒè¯è„šæœ¬é€šè¿‡
- ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹æ­£å¸¸
- ç”Ÿäº§ç¯å¢ƒå°±ç»ª

## ğŸ›¡ï¸ å®‰å…¨éªŒè¯æ³¨æ„äº‹é¡¹

### å¿…é¡»éªŒè¯çš„å®‰å…¨é¡¹ç›®
1. **Admin APIä¿æŠ¤**ï¼šéªŒè¯ADMIN_TOKENæœ‰æ•ˆæ€§
2. **æ•°æ®åº“æƒé™**ï¼šéªŒè¯æ•°æ®åº“æ–‡ä»¶æƒé™è®¾ç½®
3. **ç¯å¢ƒå˜é‡å®‰å…¨**ï¼šéªŒè¯æ•æ„Ÿä¿¡æ¯æœªæ³„éœ²
4. **APIé™æµ**ï¼šéªŒè¯é™æµåŠŸèƒ½æ­£å¸¸å·¥ä½œ

### å®‰å…¨éªŒè¯è„šæœ¬
```bash
# 1. Admin TokenéªŒè¯
./verify-admin-api.sh --security-check

# 2. æ•°æ®åº“æƒé™æ£€æŸ¥
./verify-db.js --security

# 3. ç¯å¢ƒå˜é‡å®‰å…¨æ‰«æ
./verify-env-config.sh --security
```

## ğŸ”„ ç»´æŠ¤å’Œæ›´æ–°

### å®šæœŸæ›´æ–°å†³ç­–æ ‘
å½“æ·»åŠ æ–°éªŒè¯è„šæœ¬æ—¶ï¼š
1. åœ¨å†³ç­–æ ‘ä¸­æ·»åŠ å¯¹åº”åˆ†æ”¯
2. æ›´æ–°å¸¸è§åœºæ™¯å‚è€ƒ
3. æ·»åŠ åˆ°å¿«é€Ÿå‘½ä»¤å‚è€ƒ

### ç‰ˆæœ¬å…¼å®¹æ€§
- å†³ç­–æ ‘ç‰ˆæœ¬ï¼š1.0.0
- å…¼å®¹éªŒè¯è„šæœ¬ç‰ˆæœ¬ï¼šâ‰¥1.0.0
- æœ€åæ›´æ–°ï¼š2026-02-11

---

**ä½¿ç”¨å»ºè®®**ï¼šå°†æ­¤æ–‡æ¡£ä¸ `VALIDATION-QUICK-INDEX.md` ç»“åˆä½¿ç”¨ï¼Œå‰è€…æä¾›è¯¦ç»†ç´¢å¼•ï¼Œåè€…æä¾›é€‰æ‹©æŒ‡å¯¼ã€‚

**ç›¸å…³æ–‡æ¡£**ï¼š
- [VALIDATION-QUICK-INDEX.md](./VALIDATION-QUICK-INDEX.md) - éªŒè¯è„šæœ¬è¯¦ç»†ç´¢å¼•
- [VALIDATION-TOOLS-INDEX.md](./VALIDATION-TOOLS-INDEX.md) - éªŒè¯å·¥å…·å®Œæ•´ç´¢å¼•
- [QUICK-START.md](./QUICK-START.md) - å¿«é€Ÿå¼€å§‹æŒ‡å—