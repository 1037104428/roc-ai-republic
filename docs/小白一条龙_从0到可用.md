# 小白一条龙：从 0 跑通 Clawd 国度（无需翻墙）

> 目标：你什么都不懂也没关系——照着复制粘贴，把 **TRIAL_KEY → 网关连通 → 最小调用 →（可选）OpenClaw** 一次跑通。

## 0) 你需要准备什么？（3 件事）

1) 一台电脑（Windows / macOS / Linux 皆可）
2) 一个能用的终端：
   - Windows：PowerShell / Windows Terminal
   - macOS：Terminal
   - Linux：任意终端
3) 一个 `TRIAL_KEY`（目前阶段：**手动发放**）

拿 key 的方式：前往 **Clawd 国度论坛** → **TRIAL_KEY 申请**板块 → 按模板发帖申请。
论坛地址：https://clawdrepublic.cn/forum

---

## 1) 先做“连通性体检”（不花钱、不调用模型）

```bash
curl -fsS https://api.clawdrepublic.cn/healthz
```

期望输出（类似）：

```json
{"ok":true}
```

如果这一步失败：
- 先确认你当前网络是否能访问该域名（公司网络/校园网可能有额外限制）
- 把报错信息原样贴给管理员（包含时间）

---

## 2) 最小可验证调用（curl 直连网关）

把你拿到的 `TRIAL_KEY` 放到环境变量里：

**macOS / Linux（bash/zsh）：**

```bash
export CLAWD_TRIAL_KEY="<把这里替换成你拿到的 TRIAL_KEY>"
```

**Windows（PowerShell）：**

```powershell
$env:CLAWD_TRIAL_KEY = "<把这里替换成你拿到的 TRIAL_KEY>"
```

然后发起一次最小对话请求：

```bash
curl -fsS https://api.clawdrepublic.cn/v1/chat/completions \
  -H "Authorization: Bearer ${CLAWD_TRIAL_KEY}" \
  -H 'content-type: application/json' \
  -d '{
    "model": "deepseek-chat",
    "messages": [{"role":"user","content":"用一句话介绍 Clawd 国度"}]
  }'
```

> Windows PowerShell 如果你想不依赖 `${TRIAL_KEY}` 的展开，也可以直接写：
>
> ```powershell
> curl -fsS https://api.clawdrepublic.cn/v1/chat/completions `
>   -H "Authorization: Bearer $env:CLAWD_TRIAL_KEY" `
>   -H 'content-type: application/json' `
>   -d '{"model":"deepseek-chat","messages":[{"role":"user","content":"用一句话介绍 Clawd 国度"}]}'
> ```

看到返回 JSON（含 `choices`）就说明：
- 你的 key 生效
- 网关可用
- 你的网络路径可用

---

## 3) （推荐）把它配置成“OpenAI 兼容接口”环境变量

很多工具默认读 `OPENAI_API_KEY` 与 `OPENAI_BASE_URL`。你可以这样设置（对当前终端会话生效）：

```bash
export OPENAI_API_KEY="${CLAWD_TRIAL_KEY}"
# OpenAI-compatible 的 base URL 通常需要包含 /v1
export OPENAI_BASE_URL="https://api.clawdrepublic.cn/v1"
```

验证（healthz 在 /healthz，不在 /v1 下；不会产生模型调用成本）：

```bash
curl -fsS https://api.clawdrepublic.cn/healthz
```

---

## 4) （可选）用 OpenClaw 跑通“一句话让 AI 干活”

> 如果你暂时不需要 OpenClaw，这一步可以跳过。

### 4.1 安装 OpenClaw（国内网络友好）

前置：先安装 Node.js（建议 20+）。

然后一条命令安装 OpenClaw（会优先使用国内 npm 源）：

```bash
curl -fsSL https://clawdrepublic.cn/install-cn.sh | bash
```

如果你需要指定版本（可选）：

```bash
curl -fsSL https://clawdrepublic.cn/install-cn.sh | bash -s -- --version latest
# 例如：--version 0.3.12
```

安装完成后验证：

```bash
openclaw --version
openclaw --help
```

（可选）再做一次“全链路探活”（官网/API/安装脚本等，不会调用模型）：

```bash
cd /home/kai/.openclaw/workspace/roc-ai-republic
./scripts/probe-roc-all.sh --timeout 8
```

### 4.2 让 OpenClaw 使用本网关

确保你在**同一个终端**里已经设置（推荐直接复用你前面设置的 `CLAWD_TRIAL_KEY`）：

- `OPENAI_API_KEY=${CLAWD_TRIAL_KEY}`
- `OPENAI_BASE_URL=https://api.clawdrepublic.cn/v1`

然后执行一次最小任务（示例）：

```bash
openclaw oracle "用三句话解释什么是 quota-proxy" 
```

> 注：命令行参数/子命令可能随版本不同。若你把 `openclaw --help` 输出贴出来，我们会给你一条“你这台机器能直接跑”的可复制粘贴命令。

---

## 5) 常见坑（先看这 4 条）

1) **TRIAL_KEY 不是上游厂商的 key**：它只在 `https://api.clawdrepublic.cn` 这个网关上有效。
2) **不要把 key 贴到公开地方**：被别人用光了额度，你自己就用不了了。
3) 公司网络若失败：把 `curl` 的报错 + 时间发给管理员。
4) 你不需要翻墙：如果你需要翻墙才能访问，那是异常情况（我们要修）。

---

维护者：Clawd 国度运维组（AI + 人类）
